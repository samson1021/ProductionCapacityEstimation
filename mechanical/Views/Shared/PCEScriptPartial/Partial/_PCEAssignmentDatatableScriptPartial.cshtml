@using mechanical.Models.PCE.Entities
@using mechanical.Models.PCE.Entities

@{
    var currentUser = ViewData["CurrentUser"] as CreateUser;
    var contName = "MMCase";
    var subbName = "GetMakerTeamleader";
    var assiName = "PCEAssignTeamleader";
    var seleName = "Team Leader";

    if (currentUser.Role.Name == "Maker TeamLeader")
    {
        contName = "MTLCase";
        subbName = "GetMakerOfficer";
        assiName = "PCEAssignMakerOfficer";
        seleName = "Maker Officer";
    }
    else if (currentUser.Role.Name == "District Valuation Manager")
    {
        contName = "DVMPCECase";
        subbName = "GetMakerTeamleader";
        assiName = "PCEAssignMakerOfficer";
        seleName = "Maker Officer";
    }
    
    var getSubordinateUrl = "/UserManagment/" + subbName;
    var assignUrl = "/" + contName + "/" + assiName;
    await Html.RenderPartialAsync("PCEScriptPartial/Partial/_FetchSubordinatesScriptPartial");
}

<script>
    $(document).ready(function () {
        
        var getSubordinateUrl = '@getSubordinateUrl';
        var assignUrl = '@assignUrl';
        var selectName = '@seleName';
        var isReassign = true;

        initializeForAssignment(getSubordinateUrl, assignUrl, selectName, isReassign);
    });
</script>